import"./index-DgSUPdQ2.js";/* empty css                    */import{d as w,G as V,H as g,g as v,e as x,w as s,q as h,v as k,x as y,cj as B,u as b}from"./index-DfxVvMlU.js";import"./Index.vue_vue_type_style_index_0_lang-BrdSJxIz.js";import"./index-DVABYH3N.js";const a=w({__name:"upload",props:{modelValue:{type:String,default:""}},emits:["update:modelValue"],setup(l,{emit:u}){const i={JwtToken:""},n=l,c=u,t=V(n.modelValue?[{name:"",url:n.modelValue}]:[]);g(()=>n.modelValue,e=>{console.log(e,"watch"),e!==b(t.value[0].url)&&(t.value=e?[{name:"",url:e}]:[])});const d=(e,o)=>{console.log(e,o)},r=e=>{console.log(e.d[0],"val"),c("update:modelValue",e.d[0])},m=e=>{console.log(e)};return(e,o)=>{const p=k,f=B;return x(),v(f,{"file-list":t.value,"onUpdate:fileList":o[0]||(o[0]=_=>t.value=_),class:"web-upload",action:"/admin-api/admin/userDynamic/upload","on-preview":m,limit:1,headers:i,"on-remove":d,"list-type":"picture-card","on-success":r},{default:s(()=>[h(p,null,{default:s(()=>o[1]||(o[1]=[y("上传图片")])),_:1,__:[1]})]),_:1},8,["file-list"])}}});a.install=function(l){l.component(a.name,a)};export{a as default};
